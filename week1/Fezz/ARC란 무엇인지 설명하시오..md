# [week 1] - Fezz

## ARC란 무엇인지 설명하시오.



### **ARC**란?

Swift는 ARC를 사용하여 앱의 메모리 사용량을 추적하고 관리한다. 대부분의 경우 메모리 관리를 Swift에서 알아서 한다는 것을 의미하며, 메모리 관리에 대해 개발자가 생각할 필요가 없다. ARC는 해당 인스턴스가 더 이상 필요하지 않을 때 **인스턴스**에서 사용하는 메모리를 자동으로 해제한다. 
즉 , **인스턴스**가 속성(properties), 상수(constants) 및 변수(variables) 등으로 부터 참조 되면 레퍼런스 카운트 1이 증가하며 여러개의 변수에서 참조되면 레퍼런스 카운트는 n 개가 된다. ARC 는 참조되는 레퍼런스 카운트가 0 이되면 자동으로 메모리에서 해제하는 것이다.

레퍼런스카운팅(*Reference Counting*) 은 **클래스 인스턴스**에만 적용됩니다. `구조체(Structures)`와 `열거형(enumerations)`은 레퍼런스 타입(Reference type)이 아니라 값 타입(Value types) 이며 참조(Reference)로 저장 및 전달되지 않는다.



### ARC 작동 원리

특정 클래스의 새로운 인스턴스를 만들 때마다 ARC는 해당 인스턴스에 대한 정보를 저장하기 위해 적당한 크기의 메모리를 할당하는데, 이 메모리는 해당 인스턴스와 관련된 프로퍼티 값과 함께 인스턴스 유형에 대한 정보를 보유하게 된다.

또한 인스턴스가 더 이상 필요하지 않은 경우 ARC는 해당 인스턴스에서 사용하는 메모리를 해제하여 메모리를 다른 용도로 사용할 수 있게한다. 이렇게 하면 클래스 인스턴스가 더 이상 필요하지 않을 때는 메모리 공간을 차지하지 않게 된다.

만약 ARC가 아직 사용중인 인스턴스의 메모리를 해제한다면 더 이상 해당 인스턴스의 프로퍼티에 접근 하거나 해당 인스턴스의 메서드를 호출 할 수 없게 되며, 실제로 인스턴스에 액세스하면 런타임 에러가 발생한다.

ARC는 인스턴스가 여전히 필요한 동안 메모리에서 사라지지 않도록 현재 각 클래스 인스턴스를 참조하는 `속성(properties)`, `상수(constants)` 및 `변수(variables)`를 추적하며, ARC는 해당 인스턴스에 대한 참조(*Reference*)가 하나 이상 존재하는 한 인스턴스를 메모리에서 해제하지 않는다. 

이를 가능하게 하기 위해 속성(property),상수(constant) 또는 변수(variable)에 클래스 인스턴스를 참조 할 때마다 해당 속성,상수 또는 변수는 인스턴스에 대한 **강한 참조**를 만든다. 



### 주의 사항

ARC 가 메모리관리에 대한 모든것(100%)을 해주는 것은 아니다! 경우에 따라 ARC는 메모리 관리를 위해 특정 코드간 관계에 대한 추가 정보를 요구한다.

<br/>

---



참고 

[Automatic Reference Counting](https://docs.swift.org/swift-book/LanguageGuide/AutomaticReferenceCounting.html)

[ARC란? ARC이해하기 [Part-1]](http://nslog.net/wordpress/?p=1)