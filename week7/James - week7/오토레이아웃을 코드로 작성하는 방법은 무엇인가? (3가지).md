# 오토레이아웃을 코드로 작성하는 방법은 무엇인가? (3가지)

---

## 1. Layout Anchors

``` swift
// superView의 레이아웃을 가져온다.
let margins = view.layoutMarginsGuide
 
// myView의 왼쪽 끝 부분을 margin의 왼쪽 끝에 고정시킨다.
myView.leadingAnchor.constraint(equalTo: margins.leadingAnchor).isActive = true
 
// myView의 우측 끝 부분을 margin의 우측 끝에 고정시킨다.
myView.trailingAnchor.constraint(equalTo: margins.trailingAnchor).isActive = true
 
// myView를 1:2 비율로 만든다.
myView.heightAnchor.constraint(equalTo: myView.widthAnchor, multiplier: 2.0).isActive = true
```



## NSLayoutConstraint Class

레이아웃에 영향을 주지않더라고 각 매개 변수에 대한 값을 지정해야 합니다.

``` swift
NSLayoutConstraint(item: myView, attribute: .leading, relatedBy: .equal, toItem: view, attribute: .leadingMargin, multiplier: 1.0, constant: 0.0).isActive = true
 
NSLayoutConstraint(item: myView, attribute: .trailing, relatedBy: .equal, toItem: view, attribute: .trailingMargin, multiplier: 1.0, constant: 0.0).isActive = true
 
NSLayoutConstraint(item: myView, attribute: .height, relatedBy: .equal, toItem: myView, attribute:.width, multiplier: 2.0, constant:0.0).isActive = true
```

컴파일러가 static하게 제약사항을 분석하지 못하기 때문에 프로그래머가 잘못된 제약사항을 생성할 가능성이 높습니다. 해당 메서드를 통해 구현된 잘못된 제약사항은 런타임시 오류를 발생시킵니다. 그렇기 때문에 iOS 8 또는 OS X v10.10 버전 보다 전 버전을 사용하지 않는 이상은 layout anchor api로 migrate 하는 것을 권장합니다.



## Visual Format Language

```swift
let views = ["myView" : myView]
let formatString = "|-[myView]-|"
 
let constraints = NSLayoutConstraint.constraints(withVisualFormat: formatString, options: .alignAllTop, metrics: nil, views: views)
 
NSLayoutConstraint.activate(constraints)
```

| 제약 조건                 | Visual Format Language                     | Image                                                        |
| ------------------------- | ------------------------------------------ | ------------------------------------------------------------ |
| 표준 공간                 | `[button]-[textField]`                     | [![표준 공간](https://camo.githubusercontent.com/470fe6d68121edc925375b2512909439d33536876e37050adb5032ec8345c942/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f7374616e6461726453706163652e706e67)](https://camo.githubusercontent.com/470fe6d68121edc925375b2512909439d33536876e37050adb5032ec8345c942/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f7374616e6461726453706163652e706e67) |
| 폭 제약                   | `[button(>=50)]`                           | [![폭 제약](https://camo.githubusercontent.com/962b07db65aa4ce673668a0baa160eb999215fee99b9e4ee0878c4ec711a8676/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f7769647468436f6e73747261696e742e706e67)](https://camo.githubusercontent.com/962b07db65aa4ce673668a0baa160eb999215fee99b9e4ee0878c4ec711a8676/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f7769647468436f6e73747261696e742e706e67) |
| Superview에 연결          | `|-50-[purpleBox]-50-|`                    | [![Superview에 연결](https://camo.githubusercontent.com/f4a419b92098876de60d4074059c681da669adbc0497f29436ea66636af1bd6b/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f636f6e6e656374696f6e546f5375706572766965772e706e67)](https://camo.githubusercontent.com/f4a419b92098876de60d4074059c681da669adbc0497f29436ea66636af1bd6b/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f636f6e6e656374696f6e546f5375706572766965772e706e67) |
| 수직 레이아웃             | `V: [topField]-10-[bottomField]`           | [![수직 레이아웃](https://camo.githubusercontent.com/745f9e8354d2e79aa61f5c17f392b6d82553daf98179b4685e1b632231d32991/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f766572746963616c4c61796f75742e706e67)](https://camo.githubusercontent.com/745f9e8354d2e79aa61f5c17f392b6d82553daf98179b4685e1b632231d32991/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f766572746963616c4c61796f75742e706e67) |
| 플러시 뷰                 | `[maroonView][blueView]`                   | [![플러시 뷰](https://camo.githubusercontent.com/1e6e8c38dbf5ebd771f70fd4815e270b75ec0d471bf46f52e8f121e94b07ef39/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f666c75736856696577732e706e67)](https://camo.githubusercontent.com/1e6e8c38dbf5ebd771f70fd4815e270b75ec0d471bf46f52e8f121e94b07ef39/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f666c75736856696577732e706e67) |
| 우선 순위                 | `[button(100@20)]`                         | [![우선 순위](https://camo.githubusercontent.com/8c45016728259b1b59279cab0846d7a9c11d0110356d06f9e543e7366333f3b6/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f7072696f726974792e706e67)](https://camo.githubusercontent.com/8c45016728259b1b59279cab0846d7a9c11d0110356d06f9e543e7366333f3b6/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f7072696f726974792e706e67) |
| 동일한 폭                 | `[button1(==button2)]`                     | [![동일한 폭](https://camo.githubusercontent.com/b21491ab64cec54e4a2d48a5e202aa5c4b666de0a46357a2c6f0dfaa3660fa2f/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f657175616c5769647468732e706e67)](https://camo.githubusercontent.com/b21491ab64cec54e4a2d48a5e202aa5c4b666de0a46357a2c6f0dfaa3660fa2f/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f657175616c5769647468732e706e67) |
| Multiple Predicates       | `[flexibleButton(>=70, <=100)]`            | [![Multiple Predicates](https://camo.githubusercontent.com/38127fe0662e157a89a4a3ff42c63245ea0b365dc0570573674efd4a2d5ee820/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f6d756c7469706c65507265646963617465732e706e67)](https://camo.githubusercontent.com/38127fe0662e157a89a4a3ff42c63245ea0b365dc0570573674efd4a2d5ee820/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f6d756c7469706c65507265646963617465732e706e67) |
| A Complete Line of Layout | `|-[find]-[findNext]-[findField(>=200)]=|` | [![A Complete Line of Layout](https://camo.githubusercontent.com/48fc500493c723e85fa6121517e1fbbffea87cddc35de6b5b650b29e92af9242/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f636f6d706c6574654c61796f75742e706e67)](https://camo.githubusercontent.com/48fc500493c723e85fa6121517e1fbbffea87cddc35de6b5b650b29e92af9242/68747470733a2f2f646576656c6f7065722e6170706c652e636f6d2f6c6962726172792f617263686976652f646f63756d656e746174696f6e2f55736572457870657269656e63652f436f6e6365707475616c2f4175746f6c61796f757450472f4172742f636f6d706c6574654c61796f75742e706e67) |



[참고]:

[Auto Layout Guide | Programmatically Creating Constraints](https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/AutolayoutPG/ProgrammaticallyCreatingConstraints.html#//apple_ref/doc/uid/TP40010853-CH16-SW1)

[Auto Layout Guide | Visual Format Language](https://github.com/jwonyLee/TIL/blob/master/iOS/Interview/Autolayout-code.md)

[오토레이아웃을 코드로 작성하는 방법은 무엇인가?(3가지) - jwonyLee](https://github.com/jwonyLee/TIL/blob/master/iOS/Interview/Autolayout-code.md)

