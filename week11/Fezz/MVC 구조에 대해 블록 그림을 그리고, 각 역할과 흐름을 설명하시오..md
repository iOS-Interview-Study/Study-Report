# Week 11 - Fezz

## MVC κµ¬μ΅°μ— λ€ν•΄ λΈ”λ΅ κ·Έλ¦Όμ„ κ·Έλ¦¬κ³ , κ° μ—­ν• κ³Ό νλ¦„μ„ μ„¤λ…ν•μ‹μ¤.



### μ•„ν‚¤ν…μ²λ¥Ό μ™ μƒκ°ν•΄μ•Ό λ κΉ?

- μ•„ν‚¤ν…μ²κ°€ μ—†λ‹¤λ©΄ ν”„λ΅μ νΈκ°€ ν™•μ¥λμ—μ„ λ• κ°€λ…μ„±μ΄ λ–¨μ–΄μ Έ `λ””λ²„κΉ…`μ΄ νλ“¤μ–΄μ§„λ‹¤.
- μ•„ν‚¤ν…μ²λ¥Ό μ‚¬μ©ν•λ©΄ ν‘μ—…μ—μ„ `μμ‚¬μ†ν†µ`, `μ μ§€λ³΄μ`, `ν™•μ¥` λ“±μ λΉ„μ©μ΄ μ μ–΄μ§„λ‹¤.

<br>

### μΆ‹μ€ μ•„ν‚¤ν…μ²λ€ λ¬΄μ—‡μΌκΉ?

1. Balanced **distribution of responsibilities** among entities with strict roles.
   - κ°κ°μ κ°μ²΄λ“¤μ μ—­ν• μ΄ λ…ν™•ν•΄μ•Ό ν•λ©° `SOLID` μ›μΉ™μ Single Responsibility Principli(λ‹¨μΌ μ±…μ„ μ›μΉ™)μ„ μλ―Έν•λ‹¤.
   - ν•λ‚μ κ°μ²΄μ— ν•λ‚μ μ—­ν• λ§ ν•λ„λ΅ ν•μ—¬ λ³µμ΅λ„λ¥Ό λ‚®μ¶λ‹¤.
2. **Testability** usually comes from the first feature.
   - ν…μ¤νΈ κ°€λ¥ 
   - 1 λ²κ³Ό μ—°κ΄€μ΄ μλ”λ°, λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ§€ν‚¤μ§€ μ•λ‹¤λ©΄ ν…μ¤νΈκ°€ μ–΄λ ¤μ›μ§„λ‹¤.
3. Ease of use and a low maintenance cost.
   - μ‚¬μ©μ„±κ³Ό μ μ§€λ³΄μμ„±μ λΉ„μ©

μ΄ μ„Έκ°€μ§€ μ΅°κ±΄μ΄ κ°κ° λ‹¤λ¥Έ μ΅°κ±΄μ΄ μ•„λ‹λΌ κ²°κµ­ ν•λ‚μ μλ―Έκ°€ λλ‹¤.

**λ‹¨μΌ μ±…μ„ <--> ν…μ¤νΈ <--> μ‚¬μ©μ„±, μ μ§€λ³΄μ** 

<br>

### μ•„ν‚¤ν…μ²λ¥Ό μ•μ•„λ³΄μ 

κ°€μ¥ λ§μ΄ μ‚¬μ©λλ” μ•„ν‚¤ν…μ²μΈ `MVC`, `MVP`, `MVVM`λ¥Ό μ•μ•„λ³΄λ„λ΅ ν•λ‹¤.

κ·Έ μ¤‘ `MVC`, `MVP`, `MVVM`μ—λ” κ³µν†µμ μΌλ΅ κ°€μ§€κ³  μλ”κ² μλ”λ°,

`M - Model` 

λ°μ΄ν„°λ¥Ό λ‹¤λ£¨λ” λ¶€λ¶„ (ν•μ‹, κ°€κ³µ ... λ“±)

`V - View`

 ν™”λ©΄μ— λ³΄μ—¬μ§€λ” λ¶€λ¶„ (View λ©μ²­ν•΄μ•Όμ§€ γ…γ…)

`C, P, VM - Controller/Presenter/ViewModel`

Modelκ³Ό Viewλ¥Ό μ—°κ²°ν•λ” λ¶€λ¶„ 

Viewλ΅ λ°›μ€ μ΄λ²¤νΈλ΅ μΈν•΄ Modelμ΄ λ³€κ²½λκ³ , λ³€κ²½λ Modelλ΅ Viewλ¥Ό κ°±μ‹ ν•λ‹¤.

<br>

---

#### MVC

##### μ „ν†µμ  MVC

λ¨Όμ € μ „ν†µμ μΈ `MVC` ν¨ν„΄μ— λ€ν•΄ μ‚΄ν΄λ³Έλ‹¤.

<img src="https://raw.githubusercontent.com/Fezravien/UploadForMarkdown/forUpload/img/img-20210905171344004.png" alt="img" width="60%;" />

μ „ν†µμ μΈ `MVC` λ”  κ°κ°μ Model, VIew, Controllerκ°€ λ°€μ ‘ν•κ² μ—°κ΄€λμ–΄μλ‹¤.

μ΄ λ¶€λ¶„μ€ μΆ‹μ€ μ•„ν‚¤ν…μ²μ `λ‹¨μΌ μ±…μ„ μ›μΉ™`μ— μ„λ°°λλ” κµ¬μ΅°κ°€ λλ‹¤.

<br>

##### Apple's MVC

<img src="https://raw.githubusercontent.com/Fezravien/UploadForMarkdown/forUpload/img/img-20210905171338697.png" alt="img" width="45%;" /> <img src="https://blog.kakaocdn.net/dn/bByoZL/btqCjSrUUCD/KDt3GJk3os713GCn1xK9BK/img.png" alt="img" width="54%;" />

μ• ν”μ `MVC`λ” Controllerκ°€ Viewμ™€ Modelμ μ¤‘μ¬μ μ—­ν• λ΅ Viewμ™€ Modelμ— λ…λ¦½μ„±μ„ λ¶€μ—¬ν–λ‹¤. 

νΉμ§•μ— λ€ν•΄μ„ μ‚΄ν΄λ³΄μ.

- Modelκ³Ό Viewλ” μ„λ΅λ¥Ό λ¨λ¥΄κ² λ…λ¦½λμ—μ§€λ§, Viewμ™€ Controllerκ°€ λ°€μ ‘ν• κ²ƒμ„ λ³Ό μμμΌλ©°, μ΄λ΅μΈν•΄ μ±…μ„μ΄ λ¨νΈν•΄μ§ μ μλ‹¤.
- μ±…μ„μ λ¨νΈν•¨(λ΅μ§ + UIμ”μ†) μΌλ΅ μΈν•΄ Modelλ§ ν…μ¤νΈ κ°€λ¥ν• κµ¬μ΅°κ°€ λλ‹¤.
- λ‹¤λ¥Έ μ•„ν‚¤ν…μ²μ— λΉ„ν•΄ κµ¬ν„μ΄ μ‰½λ‹¤.
- λ‹¤λ¥Έ μ•„ν‚¤ν…μ²μ— λΉ„ν•΄ κµ¬μ΅°κ°€ λ³µμ΅ν•μ§€ μ•μ§€λ§ κ·Έλ§νΌ Controllerμ μ½”λ“κ°€ λ°€μ§‘λμ–΄ μ»¤μ§€κ² λλ‹¤.

<br>

---

#### MVP

<img src="https://blog.kakaocdn.net/dn/lWAb8/btqCl8HDdmc/oPKDEckMOLlcB9LoAqIniK/img.png" alt="img" width="80%;" />

`MVC` ν¨ν„΄κ³Ό λ§¤μ° λΉ„μ·ν• κµ¬μ΅°λ¥Ό λ³΄μ—¬μ¤€λ‹¤.

`MVC`μ™€ λ‹¤λ¥΄κ² UIViewμ™€ UIViewControllerκ°€ Passive Viewμ— μ†ν•λ‹¤. 

λ”°λΌμ„, Controllerμ— ν•΄λ‹Ήν•λ” Presenterμ— Viewμ™€ κ΄€λ ¨λ κ²ƒμ΄ ν¬ν•¨λμ§€ μ•λ”λ‹¤. (UIμ™€ λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ λ¶„λ¦¬λ¨)

 μ΄λ΅ μΈν•΄ κ°κ°μ κ°μ²΄μ λ…λ¦½μ„±μ΄ `MVC` λ³΄λ‹¤ μΆ‹μ•„μ΅κ³ , ν…μ¤νΈκ°€ μ©μν•΄μ΅λ‹¤.

<br>

νΉμ§•μ— λ€ν•΄ μ‚΄ν΄λ³΄λ©΄,

- `MVC`μ™€ λ‹¤λ¥΄κ² View, Controllerμ μ—­ν• μ΄ λ¶„λ¦¬λλ©΄μ„ Viewλ¥Ό κ°±μ‹ ν•κΈ° μ„ν• μ‘μ—…μ„ λ”°λ΅ ν•΄μ¤μ•Ό ν•λ” μ΄μ λ΅ λΉ„μ©μ΄ μ¦κ°€ν•λ‹¤.
- κ°κ°μ μ—­ν• μ΄ λ¶„λ¦¬λ¨μ— λ”°λΌ ν…μ¤νΈκ°€ κ°€λ¥ν•λ‹¤.
- `MVC` λ³΄λ‹¤ μ½”λ“μ μ–‘μ΄ μ¦κ°€ν•μ§€λ§ κ°κ°μ μ—­ν• μ΄ λ…ν™•ν•΄μ΅λ‹¤.
- **Presenterμ™€ Viewλ” 1:1 κ΄€κ³„λ¥Ό κ°€μ§„λ‹¤.**

<br>

---

#### MVVM

<img src="https://raw.githubusercontent.com/Fezravien/UploadForMarkdown/forUpload/img/1*uhPpTHYzTmHGrAZy8hiM7w.png" alt="img" width="85%;" />

Model, Controller, View κ°κ° λ…λ¦½μ„±μ„ κ°€μ§€κ³  μμΌλ©°, View, Controllerμ™€ Model μ‚¬μ΄μ—μ„ View Modelμ΄ μ¤‘μ¬μ μ—­ν• μ„ μν–‰ν•λ‹¤.

`MVVM`μ κ°€μ¥ ν° μ°¨μ΄μ΄μ μ¤‘μ”ν• λ¶€λ¶„μ€ View Model λ¶€λ¶„μΈλ° 

- Viewλ¥Ό ν†µν•΄ μ‚¬μ©μλ΅λ¶€ν„° μ΄λ²¤νΈλ¥Ό λ°›μΌλ©΄ Modelμ— μ μ©ν•λ‹¤
- Modelμ λ³€ν™”κ°€ μƒκΈ°λ©΄  Viewμ— κ°±μ‹ ν•λ‹¤.

μ΄ λ¶€λ¶„μ„ λ³΄λ©΄ `MVP`μ™€ κ°™λ‹¤κ³  μƒκ°ν•  μ μμ§€λ§, **κ²°λ΅ λ¶€ν„° λ§ν•λ©΄ λ‹¤λ¥Έλ‹¤ !!**

κ·Έ μ΄μ λ” `MVVM`μ View Modelμ€ Viewμ™€ λ‘ κ°€μ§€ ν¨ν„΄μΌλ΅ μ—®μ—¬μλ‹¤.

- `Command` :  Viewλ΅ λ¶€ν„° λ°›μ€ μ΄λ²¤νΈλ¥Ό ViewModelμ„ ν†µν•΄ Modelμ„ μ—…λ°μ΄νΈ ν•λ‹¤.
- `Data Binding` : Modelμ΄ μ—…λ°μ΄νΈ λ¨μ— λ”°λΌ Viewλ¥Ό **μλ™**κ°±μ‹ ν•λ‹¤. 

> Data Bindingμ΄ `MVP` μ²λΌ "Modelμ΄ μ—…λ°μ΄νΈ λλ©΄ Viewλ¥Ό κ°±μ‹ ν•λ‹¤." μ™€ λΉ„μ·ν•΄λ³΄μ§€λ§, "**μ.λ™.**"μ΄κ² μ¤‘μ”ν• ν¬μΈνΈμ΄λ‹¤. λ”°λ΅ μ—…λ°μ΄νΈ ν•΄μ£Όλ” λ΅μ§μ„ μ‘μ„±ν•λ‹¤κΈ° λ³΄λ‹¤ Modelμ΄ λ³€κ²½λ¨μ„ μ•λ ¤μ¤μ„ μ¦‰κ°μ  λ°μ(?) μ΄λΌκ³  μƒκ°ν•λ©΄ λ  κ²ƒ κ°™λ‹¤. 

μ΄λ¥Ό μ΄μ©ν•μ—¬ Viewμ™€ ViewModel μ‚¬μ΄μ μμ΅΄μ„±μ„ μ κ±°ν•λ‹¤.

<br>

---

π“‘ μ°Έκ³  

[iOS Architecture Patterns](https://medium.com/ios-os-x-development/ios-architecture-patterns-ecba4c38de52)

[[iOS μ•„ν‚¤ν…μ² ν¨ν„΄] MVC](https://jiyeonlab.tistory.com/38?category=818842)

